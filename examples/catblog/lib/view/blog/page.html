{% extends "layout.html" %}

{% block content %}

{% if isFirstPage %}
	<section id="intro">
		<p class='intro'>Welcome to the test blog. It shows several features of BrambleMVC such as neat seo friendly urls, dynamically created views and view template reuse.<p>
	</section>
{% endif %}

<section id="posts">
	{% for post in posts %}
	
	<article class="post">
		<header>
			<h3><a href="{{ url("/blog/post/" + post.id) }}">{{post.title}}</a></h3>
			<time>{{post.dateString}}</time>
		</header>
		<p>{{post.content | truncate(100, true)}}</p>
	</article>
	
	{% endfor %}
</section>

<section id='page-controls'>

	{% if hasPreviousPage %}
		<a href="{{ url("/blog/" + (pageNumber - 1)) }}">newer</a>
	{% else %}
		<a class='disabled'>newer</a>
	{% endif %}
	|
	{% if hasNextPage %}
		<a href="{{ url("/blog/" + (pageNumber + 1)) }}">older</a>
	{% else %}
		<a class='disabled'>older</a>
	{% endif %}

</section>

{% endblock %}